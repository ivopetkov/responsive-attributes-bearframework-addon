<?php

/*
 * Responsive attributes addon for Bear Framework
 * https://github.com/ivopetkov/responsive-attributes-bearframework-addon
 * Copyright (c) Ivo Petkov
 * Free to use under the MIT license.
 */

return <<<'EOT'
var responsiveAttributes=void 0!==responsiveAttributes?responsiveAttributes:function(){var e=[],t=function(t){if(void 0===e[t]){for(var r=t.split(","),i=r.length,n={},o=0;o<i;o++){var a=r[o].split("=>");if(void 0!==a[0]&&void 0!==a[1]){var s=a[0].trim();if(s.length>0){var u=a[1].split("=");if(void 0!==u[0]){var v=u[0].trim();if(v.length>0){var d=void 0!==u[1]?u[1].trim():"";void 0===n[v]&&(n[v]=[]),n[v].push([s,d])}}}}}e[t]=n}return e[t]},r=function(e,t,r){for(var i=[],n=0;n<1e3;n++){var o="f"+i.length;if(null===(s=t.match(/f\((.*?)\)/)))break;t=t.replace(s[0],o),i.push([o,s[1]])}var a=[];for(n=0;n<1e3;n++){var s;o="q"+a.length;if(null===(s=t.match(/q\((.*?)\)/)))break;t=t.replace(s[0],o),a.push([o,s[1]])}t=t.split("vw").join(window.innerWidth).split("w").join(r.width).split("vh").join(window.innerHeight).split("h").join(r.height);for(n=i.length-1;n>=0;n--){var u=i[n];t=t.replace(u[0],u[1]+"(element,details)")}for(n=a.length-1;n>=0;n--){u=a[n];var v=null!==document.querySelector(u[1]);t=t.replace(u[0],v?"true":"false")}try{return new Function("element","details","return "+t)(e,r)}catch(e){return!1}},i=!1,n=function(){if(!i){i=!0;for(var e=document.querySelectorAll("[data-responsive-attributes]"),o=e.length,a=0;a<o;a++){var s=e[a];if(void 0===s.responsiveAttributesOververAttached)if(s.responsiveAttributesOververAttached=!0,"undefined"!=typeof MutationObserver)new MutationObserver((function(){n()})).observe(s,{attributes:!0,childList:!0,subtree:!0});var u=s.getBoundingClientRect(),v={width:u.width,height:u.height},d=function(e){var i=t(e);for(var n in i){for(var o=null,a=i[n],u=a.length,d=0;d<u;d++)r(s,a[d][0],v)&&(o=a[d][1]);null===o?s.removeAttribute(n):s.getAttribute(n)!==o&&s.setAttribute(n,o)}},l=s.getAttribute("data-responsive-attributes");if("*"===l)for(var f=s.attributes,h=0;h<f.length;h++){var c=f[h];0===c.name.indexOf("data-responsive-attributes-")&&d(c.value)}else d(l)}i=!1}},o=function(){(window.addEventListener("resize",n),window.addEventListener("load",n),window.addEventListener("orientationchange",n),"undefined"!=typeof MutationObserver)&&new MutationObserver((function(){n()})).observe(document.querySelector("body"),{childList:!0,subtree:!0})};return"loading"===document.readyState?document.addEventListener("DOMContentLoaded",o):o(),{run:n}}();
EOT;
