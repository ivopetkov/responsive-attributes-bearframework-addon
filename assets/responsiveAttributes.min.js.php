<?php

/*
 * Responsive attributes addon for Bear Framework
 * https://github.com/ivopetkov/responsive-attributes-bearframework-addon
 * Copyright (c) Ivo Petkov
 * Free to use under the MIT license.
 */

return <<<'EOT'
var responsiveAttributes=void 0!==responsiveAttributes?responsiveAttributes:function(){var e=[],t=function(t){if(void 0===e[t]){for(var r=t.split(","),i=r.length,n={},a=0;a<i;a++){var o=r[a].split("=>");if(void 0!==o[0]&&void 0!==o[1]){var v=o[0].trim();if(v.length>0){var s=o[1].split("=");if(void 0!==s[0]){var u=s[0].trim();if(u.length>0){var d=void 0!==s[1]?s[1].trim():"";void 0===n[u]&&(n[u]=[]),n[u].push([v,d])}}}}}e[t]=n}return e[t]},r=function(e,t,r){for(var i=[],n=0;n<1e3;n++){var a="f"+i.length;if(null===(v=t.match(/f\((.*?)\)/)))break;t=t.replace(v[0],a),i.push([a,v[1]])}var o=[];for(n=0;n<1e3;n++){var v;a="q"+o.length;if(null===(v=t.match(/q\((.*?)\)/)))break;t=t.replace(v[0],a),o.push([a,v[1]])}t=t.split("vw").join(window.innerWidth).split("w").join(r.width).split("vh").join(window.innerHeight).split("h").join(r.height);for(n=i.length-1;n>=0;n--){var s=i[n];t=t.replace(s[0],s[1]+"(element,details)")}for(n=o.length-1;n>=0;n--){s=o[n];var u=null!==document.querySelector(s[1]);t=t.replace(s[0],u?"true":"false")}try{return new Function("element","details","return "+t)(e,r)}catch(e){return!1}},i=!1,n=function(){if(!i){i=!0;for(var e=document.querySelectorAll("[data-responsive-attributes]"),a=e.length,o=0;o<a;o++){var v=e[o];if(void 0===v.responsiveAttributesOververAttached)if(v.responsiveAttributesOververAttached=!0,"undefined"!=typeof MutationObserver)new MutationObserver((function(e){var t=!1;for(var r of e)"attributes"===r.type&&0===r.attributeName.indexOf("data-responsive-attributes")&&(t=!0);t&&n()})).observe(v,{attributes:!0});var s=v.getBoundingClientRect(),u={width:s.width,height:s.height},d=function(e){var i=t(e);for(var n in i){for(var a=null,o=i[n],s=o.length,d=0;d<s;d++)r(v,o[d][0],u)&&(a=o[d][1]);null===a?v.removeAttribute(n):v.getAttribute(n)!==a&&v.setAttribute(n,a)}},l=v.getAttribute("data-responsive-attributes");if("*"===l)for(var f=v.attributes,h=0;h<f.length;h++){var c=f[h];0===c.name.indexOf("data-responsive-attributes-")&&d(c.value)}else d(l)}i=!1}},a=function(){(window.addEventListener("resize",n),window.addEventListener("load",n),window.addEventListener("orientationchange",n),"undefined"!=typeof MutationObserver)&&new MutationObserver((function(){n()})).observe(document.querySelector("body"),{childList:!0,subtree:!0})};return"loading"===document.readyState?document.addEventListener("DOMContentLoaded",a):a(),{run:n}}();
EOT;
