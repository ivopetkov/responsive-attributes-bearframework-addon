<?php

/*
 * Responsive attributes addon for Bear Framework
 * https://github.com/ivopetkov/responsive-attributes-bearframework-addon
 * Copyright (c) Ivo Petkov
 * Free to use under the MIT license.
 */

return <<<'EOT'
var responsiveAttributes=void 0!==responsiveAttributes?responsiveAttributes:function(){var e=[],t=function(t){if(void 0===e[t]){for(var r=t.split(","),i=r.length,n={},o=0;o<i;o++){var a=r[o].split("=>");if(void 0!==a[0]&&void 0!==a[1]){var l=a[0].trim();if(l.length>0){var u=a[1].split("=");if(void 0!==u[0]){var d=u[0].trim();if(d.length>0){var v=void 0!==u[1]?u[1].trim():"";void 0===n[d]&&(n[d]=[]),n[d].push([l,v])}}}}}e[t]=n}return e[t]},r=function(e,t,r){for(var i=[],n=0;n<1e3;n++){var o="f"+i.length;if(null===(l=t.match(/f\((.*?)\)/)))break;t=t.replace(l[0],o),i.push([o,l[1]])}var a=[];for(n=0;n<1e3;n++){var l;o="q"+a.length;if(null===(l=t.match(/q\((.*?)\)/)))break;t=t.replace(l[0],o),a.push([o,l[1]])}t=t.split("vw").join(window.innerWidth).split("w").join(r.width).split("vh").join(window.innerHeight).split("h").join(r.height);for(n=i.length-1;n>=0;n--){var u=i[n];t=t.replace(u[0],u[1]+"(element,details)")}for(n=a.length-1;n>=0;n--){u=a[n];var d=null!==document.querySelector(u[1]);t=t.replace(u[0],d?"true":"false")}try{return new Function("element","details","return "+t)(e,r)}catch(e){return!1}},i=!1,n=function(){if(!i){i=!0;for(var e=document.querySelectorAll("[data-responsive-attributes]"),n=e.length,o=0;o<n;o++){var a=e[o],l=a.getBoundingClientRect(),u={width:l.width,height:l.height},d=t(a.getAttribute("data-responsive-attributes"));for(var v in d){for(var s=null,h=d[v],f=h.length,c=0;c<f;c++)r(a,h[c][0],u)&&(s=h[c][1]);null===s?a.removeAttribute(v):a.getAttribute(v)!==s&&a.setAttribute(v,s)}}i=!1}},o=function(){(window.addEventListener("resize",n),window.addEventListener("load",n),window.addEventListener("orientationchange",n),"undefined"!=typeof MutationObserver)&&new MutationObserver((function(){n()})).observe(document.querySelector("body"),{childList:!0,subtree:!0})};return"loading"===document.readyState?document.addEventListener("DOMContentLoaded",o):o(),{run:n}}();
EOT;
